<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQuery中AJAX的回调函数</title>
</head>
<body>
	
	<script src="jquery.js"></script>
	<script>

		/*//
		var xhr = new XMLHttpRequest();
		xhr.open('GET' , 'time.php');
		xhr.send();
		xhr.onreadystatechange = function () {
			if (this.readyState !== 4) return;
			console.log(this.responseText);
		}*/


		//显示loading
		$.ajax({
			url: 'time1.php',
			type: 'get',
			beforeSend: function (xhr) {
				//在所有发送请求的操作 (open,send) 之前执行
				console.log('beforeSend' , xhr);
				//beforeSend {readyState: 0, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}
			},
			success: function (res) {
				//隐藏loading
				//只有请求成功(状态码为200),才会执行这个函数
				console.log(res);
				//complete {readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}
			},
			error: function (xhr) {
				//隐藏loading
				//只有请求不正常(状态码不为200)才会执行
				console.log('error' , xhr);
				//error {readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …},	
			},
			complete: function (xhr) {
				//不管请求成功还是失败都是完成,都会执行这个 complete 函数
				//成功打印一个,
				//失败打印两个,
				console.log('complete' , xhr);
				//complete {readyState: 4, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}
			}
		});

	</script>
</body>
</html>