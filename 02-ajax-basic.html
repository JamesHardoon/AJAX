<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax的快速上手(接收响应)</title>
</head>
<body>
	<script>

		var xhr = new XMLHttpRequest();
		//如果需要捕获第一状态的变化,需要注意代码执行的顺序的问题,只有2,3,4,没有0,1(不要出现来不及的情况)
		//创建为0,打开为1
		xhr.onreadystatechange = function () {
			//这个时间并不是只在响应是触发,状态改变就触发
			console.log(1);
			console.log(this.readyState);//这里写this比xhr方便,因为xhr是全局变量
		}

		xhr.open('GET','./time.php');
		
		xhr.send();

		//因为客户端永远不知道服务端何时才能返回我们需要的响应
		//所以AJXA API 采用事件机制(通知的感觉)
		// xhr.readystatechange = function () {
		// 	//这个时间并不是只在响应是触发,XHR状态改变就触发
		// 	//console.log(1);
		// 	if (this.readyState !== 4) {
		// 		return ;
		// 	}
		// 	console.log(this.responseText)
		// }
		//因为响应需要时间,所以无法通过返回值的方式返回响应
		//var response = xhr.send();
		//console.log(response);//undefined
	</script>
</body>
</html>